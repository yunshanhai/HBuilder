<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>交互式入门</title>
    <style>
      svg{
        border:solid 1px steelblue;
      }
    </style>
	</head>
	<body>
    <p>键盘常用事件：keydown、keypress、keyup</p>
    <script src="js/d3.v3.js"></script>
    <script src="js/common.js"></script>
    <script>
      function demo1(){
        var characters = ['A', 'S', 'D', 'F'];
        var svg = d3.select('body').append('svg')
          .attr('width', 300)
          .attr('height', 300);
        var rects = svg.selectAll('rect')
          .data(characters)
          .enter()
          .append('rect')
          .attr('x', function(d,i){return 10 + i * 60; })
          .attr('y', 10)
          .attr('width', 55)
          .attr('height', 55)
          .attr('rx', 5)
          .attr('ry', 5)
          .attr('fill', 'black');
        var texts = svg.selectAll('text')
          .data(characters)
          .enter()
          .append('text')
          .attr('x', function(d,i){ return 10 + i * 60; })
          .attr('y', 10)
          .attr('dx', 10)
          .attr('dy', 25)
          .attr('fill', 'white')
          .attr('font-size', 24)
          .text(function(d,i){return d;});
          
        d3.select('body').on('keydown',function(){
          rects.attr('fill', function(d){
            if(d == String.fromCharCode(d3.event.keyCode)){
              return 'yellow';
            }else{
              return 'black';
            }
          })
        }).on('keyup', function(){
          rects.attr('fill', 'black');
        });
      }
      demo1();
      
    </script>
	</body>
</html>
